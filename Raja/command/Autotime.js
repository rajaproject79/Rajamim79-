const schedule = require('node-schedule');
const moment = require('moment-timezone');
const chalk = require('chalk');

module.exports.config = {
 name: 'autosent',
 version: '10.0.4',
 hasPermssion: 0,
 credits: 'Priyansh Rajput (Modified by SUJON)',
 description: 'Automatically sends funny-love mixed messages based on time (BD Time)',
 commandCategory: 'group',
 usages: '',
 cooldowns: 3
};

const messages = [
 { time: '12:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§à§¨:à§¦à§¦ AM,\nðŸ’Œ â€œà¦¤à§‹à¦®à¦¾à¦° à¦¸à§à¦¬à¦ªà§à¦¨à§‡ à¦†à¦¸à¦¤à§‡ à¦¦à§‡à¦°à¦¿ à¦¹à¦²à§‡ à¦®à¦¾à¦« à¦•à¦‡à¦°à§‹, à¦°à¦¾à¦¸à§à¦¤à¦¾à§Ÿ à¦ªà§à¦¯à¦¾à¦Ÿà§à¦°à§‹à¦² à¦¶à§‡à¦· à¦¹à¦‡à¦›à¦¿à¦²à¥¤â€' },
 { time: '1:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§:à§¦à§¦ AM,\nðŸ˜´ â€œà¦ªà§à¦°à§‡à¦®à¦¿à¦•à¦¾ à¦˜à§à¦®à¦¾à¦²à§‡ à¦¶à¦¾à¦¨à§à¦¤à¦¿, à¦¨à¦¾ à¦˜à§à¦®à¦¾à¦²à§‡ à¦‡à¦¨à¦¬à¦•à§à¦¸à§‡ à¦Ÿà¦°à§à¦¨à§‡à¦¡à§‹à¥¤â€' },
 { time: '2:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§¨:à§¦à§¦ AM,\nðŸ’¤ â€œà¦¯à¦¾à¦° à¦¸à¦¾à¦¥à§‡ à¦šà§à¦¯à¦¾à¦Ÿ à¦•à¦°à§‹ à¦¸à§‡ à¦˜à§à¦®à¦¿à§Ÿà§‡ à¦ªà§œà¦²à§‡ à¦¬à§à¦à¦¬à¦¾â€”à¦¤à§‹à¦®à¦¾à¦° à¦°à§‹à¦®à¦¾à¦¨à§à¦¸ à¦à¦•à¦¤à¦°à¦«à¦¾à¥¤â€' },
 { time: '3:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§©:à§¦à§¦ AM,\nðŸ‘» â€œà¦°à¦¾à¦¤ à§©à¦Ÿà¦¾à¦° à¦ªà§à¦°à§‡à¦® à¦®à¦¾à¦¨à§‡à¦‡ Ghosting à¦à¦° à¦ªà§‚à¦°à§à¦¬à¦¾à¦­à¦¾à¦¸!â€' },
 { time: '4:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§ª:à§¦à§¦ AM,\nðŸŒ… â€œà¦­à§‹à¦°à§‡à¦° à¦¹à¦¾à¦“à§Ÿà¦¾ à¦†à¦° à¦à¦•à§à¦¸ à¦à¦° à¦¸à§à¦®à§ƒà¦¤à¦¿â€”à¦¦à§à¦Ÿà§‹à¦‡ à¦ à¦¾à¦¨à§à¦¡à¦¾ à¦²à¦¾à¦—à§‡!â€' },
 { time: '5:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§«:à§¦à§¦ AM,\nðŸ“ â€œà¦¸à§‡ à¦¸à¦•à¦¾à¦²à§‡ à¦“à¦ à§‡ à¦¨à¦¾, à¦•à¦¿à¦¨à§à¦¤à§ à¦¸à§à¦¬à¦ªà§à¦¨à§‡ à¦ªà§à¦°à§‡à¦® à¦•à¦°à§‡ à¦ à¦¿à¦•à¦‡!â€' },
 { time: '6:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§¬:à§¦à§¦ AM,\nðŸŒ¤ï¸ â€œà¦¸à¦•à¦¾à¦² à¦¶à§à¦°à§ à¦¹à§‹à¦• à¦¤à§‹à¦®à¦¾à¦° à¦®à§‡à¦¸à§‡à¦œ à¦¦à¦¿à§Ÿà§‡â€”not à¦¸à§à¦¨à§à¦œ à¦¬à¦¾à¦Ÿà¦¨à§‡ à¦šà¦¾à¦ª à¦¦à¦¿à§Ÿà§‡!â€' },
 { time: '7:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§­:à§¦à§¦ AM,\nðŸ’˜ â€œà¦¸à¦•à¦¾à¦² à¦¸à¦•à¦¾à¦² à¦¤à§à¦®à¦¿ à¦›à¦¾à§œà¦¾ à¦•à¦«à¦¿à¦“ à¦¬à¦¿à¦¸à§à¦¬à¦¾à¦¦ à¦²à¦¾à¦—à§‡!â€' },
 { time: '8:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§®:à§¦à§¦ AM,\nðŸ˜Ž â€œà¦¤à§‹à¦®à¦¾à¦° à¦¹à¦¾à¦¸à¦¿à¦° à¦šà¦¾à¦‡à¦¤à§‡ à¦¬à§‡à¦¶à¦¿ à¦¤à¦¾à¦œà¦¾ à¦•à¦¿à¦›à§à¦‡ à¦¨à¦¾à¦‡â€”à¦šà¦¾-à¦“ à¦¨à¦¾!â€' },
 { time: '9:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§¯:à§¦à§¦ AM,\nðŸ“± â€œà¦¤à§à¦®à¦¿ à¦¯à¦¦à¦¿ à¦…à¦«à¦¿à¦¸à§‡ à¦¯à¦¾à¦“, à¦†à¦®à¦¿ à¦¤à§‹à¦®à¦¾à¦° à¦²à¦¾à¦žà§à¦šà¦¬à¦•à§à¦¸à§‡à¦° à¦¨à§‹à¦Ÿâ€”à¦®à¦¿à¦¸ à¦‡à¦‰!â€' },
 { time: '10:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§à§¦:à§¦à§¦ AM,\nðŸ˜‚ â€œà¦¯à¦¾à¦°à¦¾ à¦ªà§à¦°à§‡à¦® à¦•à¦°à§‡ à¦…à¦«à¦¿à¦¸à§‡ à¦¬à¦¸à§‡ à¦¬à¦¸à§‡, à¦¤à¦¾à¦¦à§‡à¦° à¦¬à¦¸à¦“ à¦ªà§à¦°à§‡à¦®à§‡ à¦ªà§œà§‡... à¦šà¦¾à¦•à¦°à¦¿à¦° à¦¸à¦¾à¦¥à§‡!â€' },
 { time: '11:00 AM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§à§§:à§¦à§¦ AM,\nðŸ’” â€œà¦¤à§‹à¦®à¦¾à¦° à¦¸à¦¾à¦¥à§‡ à¦°à¦¾à¦— à¦•à¦°à¦²à§‡à¦“ à¦šà§‡à¦• à¦•à¦°à¦¿ à¦¤à§à¦®à¦¿ Seen à¦¦à¦¿à¦›à§‹ à¦•à¦¿à¦¨à¦¾!â€' },
 { time: '12:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§à§¨:à§¦à§¦ PM,\nðŸ› â€œà¦¦à§à¦ªà§à¦°à§‡à¦° à¦–à¦¾à¦“à§Ÿà¦¾à¦° à¦šà¦¾à¦‡à¦¤à§‡à¦“ à¦¤à§‹à¦° à¦®à§‡à¦¸à§‡à¦œ à¦¬à§‡à¦¶à¦¿ à¦¤à§ƒà¦ªà§à¦¤à¦¿à¦°!â€' },
 { time: '1:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§:à§¦à§¦ PM,\nðŸ˜ª â€œà¦¯à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§‡ à¦¸à§‡ à¦˜à§à¦®à§‡à¦“ à¦¤à§‹à¦®à¦¾à¦° à¦¨à¦¾à¦® à¦¨à§‡à§Ÿâ€”à¦†à¦®à¦¿ à¦¨à¦¾à¦•à¦¿ à¦˜à§à¦®à¦¿à§Ÿà§‡ à¦¹à¦¾à¦à¦¸à¦¿!â€' },
 { time: '2:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§¨:à§¦à§¦ PM,\nðŸ¤³ â€œà¦¤à§‹à¦®à¦¾à¦° DP à¦¨à¦¾ à¦¦à§‡à¦–à¦²à§‡ à¦†à¦®à¦¾à¦° à¦˜à§à¦® à¦†à¦¸à§‡ à¦¨à¦¾â€”à¦†à¦®à¦¿à¦“ à¦œà¦¾à¦¨à¦¿ à¦à¦Ÿà¦¾ à¦“à¦­à¦¾à¦° à¦…à§à¦¯à¦¾à¦•à§à¦Ÿà¦¿à¦‚à¥¤â€' },
 { time: '3:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§©:à§¦à§¦ PM,\nðŸ˜´ â€œà¦˜à§à¦®à§‡ à¦¦à§‡à¦–à¦¿ à¦¤à§à¦®à¦¿ à¦ªà¦¾à¦¶à§‡, à¦˜à§à¦® à¦­à¦¾à¦™à¦²à§‡à¦‡ à¦¦à§‡à¦–à¦¿ à¦ªà¦¿à¦²à§‹ à¦•à¦¾à¦à¦ªà¦›à§‡!â€' },
 { time: '4:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§ª:à§¦à§¦ PM,\nðŸµ â€œà¦¤à§à¦®à¦¿ à¦šà¦¾à§Ÿà§‡à¦° à¦•à¦¾à¦ªà§‡à¦° à¦®à¦¤à§‹â€”à¦—à¦°à¦® à¦—à¦°à¦®, à¦®à¦¿à¦·à§à¦Ÿà¦¿ à¦®à¦¿à¦·à§à¦Ÿà¦¿ à¦†à¦° à¦­à§€à¦·à¦£ à¦¨à§‡à¦¶à¦¾à¦¦à¦¾à¦°!â€' },
 { time: '5:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§«:à§¦à§¦ PM,\nðŸ§  â€œà¦ªà§à¦°à§‡à¦®à§‡ à¦ªà§œà¦¾ à¦®à¦¾à¦¨à§‡ IQ à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡, à¦†à¦° Breakup à¦®à¦¾à¦¨à§‡ à¦†à¦¬à¦¾à¦° à¦‡à¦¨à§à¦¸à¦Ÿà¦²!â€' },
 { time: '6:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§¬:à§¦à§¦ PM,\nðŸ•Œ â€œà¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà§‹, à¦¨à§Ÿà¦¤à§‹ à¦ªà§à¦°à§‡à¦®à¦¿à¦•à¦¾ à¦›à¦¾à§œà¦¬à§‡ à¦¨à¦¾â€”à¦®à¦¾à¦“!â€' },
 { time: '7:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§­:à§¦à§¦ PM,\nðŸŒ‡ â€œà¦¸à§‚à¦°à§à¦¯ à¦¡à§à¦¬à§‡ à¦¯à¦¾à¦šà§à¦›à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦¤à§‹à¦®à¦¾à¦° à¦‡à¦¨à¦¬à¦•à§à¦¸ à¦à¦–à¦¨à§‹ Seen à¦›à¦¾à§œà¦¾!â€' },
 { time: '8:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§®:à§¦à§¦ PM,\nðŸŽ§ â€œà¦¤à§‹à¦®à¦¾à¦° à¦­à¦¯à¦¼à§‡à¦¸ à¦®à§‡à¦¸à§‡à¦œ à¦®à¦¾à¦¨à§‡à¦‡ à¦˜à§à¦®à§‡à¦° à¦“à¦·à§à¦§â€”à¦¤à¦¾à¦“ à¦®à¦œà¦¾à¦°!â€' },
 { time: '9:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§¯:à§¦à§¦ PM,\nðŸ˜Œ â€œà¦°à¦¾à¦¤ à¦®à¦¾à¦¨à§‡à¦‡ Pillow + Mobile + à¦¤à§‹à¦®à¦¾à¦° à¦ªà§à¦°à¦¨à§‹ à¦®à§‡à¦¸à§‡à¦œ à¦ªà§œà§‡ à¦•à¦¾à¦¨à§à¦¨à¦¾!â€' },
 { time: '10:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§à§¦:à§¦à§¦ PM,\nðŸ“µ â€œà¦¤à§à¦®à¦¿ à¦°à§‡à¦—à§‡ à¦—à§‡à¦²à§‡ à¦†à¦®à¦¾à¦° WiFi-à¦“ Disconnect à¦¹à§Ÿà§‡ à¦¯à¦¾à§Ÿ à¦®à¦¨à§‡ à¦¹à§Ÿ!â€' },
 { time: '11:00 PM', message: 'âŒš à¦¸à¦®à§Ÿ: à§§à§§:à§¦à§¦ PM,\nðŸ’¤ â€œà¦¶à§à¦­ à¦°à¦¾à¦¤à§à¦°à¦¿ à¦¬à¦²à§‹, à¦¨à¦¾à¦¹à¦²à§‡ à¦†à¦®à¦¿ à¦˜à§à¦®à¦¾à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ à¦¨à¦¾â€”à¦¤à§à¦®à¦¿ à¦¨à¦¾ à¦¬à¦²à¦²à§‡ à¦¨à¦¿à¦¨à§à¦¦à§à¦°à¦¾à¦“ à¦°à¦¾à¦— à¦•à¦°à§‡!â€' },
];

module.exports.onLoad = ({ api }) => {
 console.log(chalk.green.bold('âœ… AutoSent Funny-Love Module Loaded (BD Time)'));

 messages.forEach(({ time, message }) => {
   const [hour, minute, period] = time.split(/[: ]/);
   let hour24 = parseInt(hour);
   if (period === 'PM' && hour !== '12') hour24 += 12;
   if (period === 'AM' && hour === '12') hour24 = 0;

   const rule = new schedule.RecurrenceRule();
   rule.tz = 'Asia/Dhaka';
   rule.hour = hour24;
   rule.minute = parseInt(minute);

   schedule.scheduleJob(rule, () => {
     if (!global.data?.allThreadID) return;
     global.data.allThreadID.forEach(threadID => {
       api.sendMessage(message, threadID, (err) => {
         if (err) console.error(`âŒ Error sending message to ${threadID}:`, err);
       });
     });
   });
 });

};

module.exports.run = () => {};
